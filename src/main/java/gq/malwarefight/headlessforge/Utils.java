package gq.malwarefight.headlessforge;

import java.util.Objects;
import java.util.Random;
import java.util.Scanner;
import java.util.concurrent.ThreadLocalRandom;

public class Utils {
    public static String choose(Scanner scan) {
        String result = null;
        Random rand = new Random();
        int n = 0;
        while (scan.hasNextLine()) {
            n++;
            String line = scan.nextLine();
            if(rand.nextInt(n) == 0)
                result = line;
        }
        return result;
    }

    public static String jsonQuote(String a, Object b) {
        return "\"" + a + "\":\"" + b + "\",";
    }
    public static String generateRandomString(int length) {
        String validChars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890abcdefghijklmnopqrstuvwxyz_";
        StringBuilder value = new StringBuilder();
        for (int i = 0; i < length; i++) {
            value.append(validChars.charAt(ThreadLocalRandom.current().nextInt(0, validChars.length())));
        }
        return value.toString();
    }
    public static String generateRandomUsername() {
        return choose(new Scanner(Objects.requireNonNull(Utils.class.getResourceAsStream("/usernames.txt"))));
    }
}
